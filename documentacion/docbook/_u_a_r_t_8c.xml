<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__u_a_r_t_8c" xml:lang="en-US">
<title>src/librerias/UART.c File Reference</title>
<indexterm><primary>src/librerias/UART.c</primary></indexterm>
<para>

<para>Funciones para manejo de modulo EUSART del PIC18F45K50. </para>
 
</para>
<programlisting linenumbering="unnumbered">#include &lt;xc.h&gt;<?linebreak?>#include &quot;UART.h&quot;<?linebreak?></programlisting><simplesect>
    <title>Functions    </title>
        <itemizedlist>
            <listitem><para>void <link linkend="__u_a_r_t_8c_1ae6fd997937744f54a3b2f5245e0ee6c5">UART_config_show</link> ()</para>

<para>Muestra por puerto serial la configuracion actual del modulo EUSART. </para>
</listitem>
            <listitem><para>void <link linkend="__u_a_r_t_8c_1ad6f6f2234554d7faf55db52b66f45bc5">UART_Init</link> (uint32_t baudrate)</para>

<para>Configura los registros basicos para comunicacion y llama a <link linkend="__u_a_r_t_8h_1ae6fd997937744f54a3b2f5245e0ee6c5">UART_config_show()</link> </para>
</listitem>
            <listitem><para>void <link linkend="__u_a_r_t_8c_1a9b48b2eb82094ac97dff171ab6277a6d">UART_select_baud</link> (uint32_t baudrate)</para>

<para>Configura SPBRGH y SPBRG para el baudrate ingresado. </para>
</listitem>
            <listitem><para>void <link linkend="__u_a_r_t_8c_1a6016908c0a23b070c8908df8af932fe8">UART_Tx</link> (uint8_t dato)</para>

<para>Envia el dato si ya esta vacio TSR. </para>
</listitem>
            <listitem><para>void <link linkend="__u_a_r_t_8c_1af8157a81370f484948711155494bce72">putch</link> (char data)</para>
</listitem>
            <listitem><para><link linkend="__u_a_r_t__variables_8h_1aca500773c32b84185c333e06093935f9">UART_ERROR_CODE</link> <link linkend="__u_a_r_t_8c_1ae9defbf2097bafc184289367f362245e">UART_Rx_OVERFLOW</link> ()</para>

<para>Revisa el registro OERR y limpia el error. </para>
</listitem>
            <listitem><para><link linkend="__u_a_r_t__variables_8h_1aca500773c32b84185c333e06093935f9">UART_ERROR_CODE</link> <link linkend="__u_a_r_t_8c_1afc34c227cd3b9153f8a1dd4c7da43f79">UART_Rx_FRAMING</link> ()</para>

<para>Revisa el registro FERR y limpia el error. </para>
</listitem>
            <listitem><para>uint8_t <link linkend="__u_a_r_t_8c_1a104e40e6d18cf161ca4ee7ebdc0e62b8">UART_Rx</link> (void)</para>

<para>Lee el ultimo dato recibido. </para>
</listitem>
            <listitem><para>bool <link linkend="__u_a_r_t_8c_1a8b7a4292ea3e53e551f90b0ae7a58721">UART_RxAvailable</link> ()</para>

<para>Valida si esta habilitada la recepcion y si el buffer esta lleno. </para>
</listitem>
        </itemizedlist>
</simplesect>
<section>
<title>Detailed Description</title>

<para>Funciones para manejo de modulo EUSART del PIC18F45K50. </para>

<para><formalpara><title>Author</title>

<para>Javier Mendoza (<link xlink:href="mailto:javierulisesmruiz@gmail.com">javierulisesmruiz@gmail.com</link>) </para>
</formalpara>
<formalpara><title>Date</title>

<para>03/10/2024 </para>
</formalpara>
<formalpara><title>Version</title>

<para>0.1 </para>
</formalpara>
</para>
</section>
<section>
<title>Function Documentation</title>
<anchor xml:id="__u_a_r_t_8c_1af8157a81370f484948711155494bce72"/><section>
    <title>putch()</title>
<indexterm><primary>putch</primary><secondary>UART.c</secondary></indexterm>
<indexterm><primary>UART.c</primary><secondary>putch</secondary></indexterm>
<para><computeroutput>void putch (char data)</computeroutput></para></section>
<anchor xml:id="__u_a_r_t_8c_1ae6fd997937744f54a3b2f5245e0ee6c5"/><section>
    <title>UART_config_show()</title>
<indexterm><primary>UART_config_show</primary><secondary>UART.c</secondary></indexterm>
<indexterm><primary>UART.c</primary><secondary>UART_config_show</secondary></indexterm>
<para><computeroutput>void UART_config_show ( )</computeroutput></para><para>

<para>Muestra por puerto serial la configuracion actual del modulo EUSART. </para>
</para>
</section>
<anchor xml:id="__u_a_r_t_8c_1ad6f6f2234554d7faf55db52b66f45bc5"/><section>
    <title>UART_Init()</title>
<indexterm><primary>UART_Init</primary><secondary>UART.c</secondary></indexterm>
<indexterm><primary>UART.c</primary><secondary>UART_Init</secondary></indexterm>
<para><computeroutput>void UART_Init (uint32_t baudrate)</computeroutput></para><para>

<para>Configura los registros basicos para comunicacion y llama a <link linkend="__u_a_r_t_8h_1ae6fd997937744f54a3b2f5245e0ee6c5">UART_config_show()</link> </para>
</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>Baudrate</entry><entry>
<para>Llamando a <link linkend="__u_a_r_t_8h_1ae7956c92520def8e4cf6046a92310184">UART_select_baud()</link> </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
</section>
<anchor xml:id="__u_a_r_t_8c_1a104e40e6d18cf161ca4ee7ebdc0e62b8"/><section>
    <title>UART_Rx()</title>
<indexterm><primary>UART_Rx</primary><secondary>UART.c</secondary></indexterm>
<indexterm><primary>UART.c</primary><secondary>UART_Rx</secondary></indexterm>
<para><computeroutput>uint8_t UART_Rx (void )</computeroutput></para><para>

<para>Lee el ultimo dato recibido. </para>
</para>

<para>Valida los errores Framming y Overflow <formalpara><title>Returns</title>

<para>RCREG1 </para>
</formalpara>
</para>
</section>
<anchor xml:id="__u_a_r_t_8c_1afc34c227cd3b9153f8a1dd4c7da43f79"/><section>
    <title>UART_Rx_FRAMING()</title>
<indexterm><primary>UART_Rx_FRAMING</primary><secondary>UART.c</secondary></indexterm>
<indexterm><primary>UART.c</primary><secondary>UART_Rx_FRAMING</secondary></indexterm>
<para><computeroutput><link linkend="__u_a_r_t__variables_8h_1aca500773c32b84185c333e06093935f9">UART_ERROR_CODE</link> UART_Rx_FRAMING ( )</computeroutput></para><para>

<para>Revisa el registro FERR y limpia el error. </para>
</para>

<para><formalpara><title>Returns</title>

<para>ERROR_CODE_UART_FRAMING </para>

<para>ERROR_CODE_UART_OK </para>
</formalpara>
</para>
</section>
<anchor xml:id="__u_a_r_t_8c_1ae9defbf2097bafc184289367f362245e"/><section>
    <title>UART_Rx_OVERFLOW()</title>
<indexterm><primary>UART_Rx_OVERFLOW</primary><secondary>UART.c</secondary></indexterm>
<indexterm><primary>UART.c</primary><secondary>UART_Rx_OVERFLOW</secondary></indexterm>
<para><computeroutput><link linkend="__u_a_r_t__variables_8h_1aca500773c32b84185c333e06093935f9">UART_ERROR_CODE</link> UART_Rx_OVERFLOW ( )</computeroutput></para><para>

<para>Revisa el registro OERR y limpia el error. </para>
</para>

<para><formalpara><title>Returns</title>

<para>ERROR_CODE_UART_OVERFLOW </para>

<para>ERROR_CODE_UART_OK </para>
</formalpara>
</para>
</section>
<anchor xml:id="__u_a_r_t_8c_1a8b7a4292ea3e53e551f90b0ae7a58721"/><section>
    <title>UART_RxAvailable()</title>
<indexterm><primary>UART_RxAvailable</primary><secondary>UART.c</secondary></indexterm>
<indexterm><primary>UART.c</primary><secondary>UART_RxAvailable</secondary></indexterm>
<para><computeroutput>bool UART_RxAvailable (void )</computeroutput></para><para>

<para>Valida si esta habilitada la recepcion y si el buffer esta lleno. </para>
</para>

<para><formalpara><title>Returns</title>

<para>0 No listo para leer </para>

<para>1 Listo para leer </para>
</formalpara>
</para>
</section>
<anchor xml:id="__u_a_r_t_8c_1a9b48b2eb82094ac97dff171ab6277a6d"/><section>
    <title>UART_select_baud()</title>
<indexterm><primary>UART_select_baud</primary><secondary>UART.c</secondary></indexterm>
<indexterm><primary>UART.c</primary><secondary>UART_select_baud</secondary></indexterm>
<para><computeroutput>void UART_select_baud (uint32_t baudrate)</computeroutput></para><para>

<para>Configura SPBRGH y SPBRG para el baudrate ingresado. </para>
</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>Baudrate</entry><entry>
<para>Admite 300, 1200, 2400, 9600, 10417, 19200, 57600, 115200. En caso de ingresar otro valor, se configura por defecto a 9600. </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <note><title>Note</title>

<para>Se planea cambiar a una funcion que realice el calculo al momento </para>
</note>
</para>
</section>
<anchor xml:id="__u_a_r_t_8c_1a6016908c0a23b070c8908df8af932fe8"/><section>
    <title>UART_Tx()</title>
<indexterm><primary>UART_Tx</primary><secondary>UART.c</secondary></indexterm>
<indexterm><primary>UART.c</primary><secondary>UART_Tx</secondary></indexterm>
<para><computeroutput>void UART_Tx (uint8_t dato)</computeroutput></para><para>

<para>Envia el dato si ya esta vacio TSR. </para>
</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>dato</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
</section>
</section>
</section>
